
<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/core.css);
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/pagelayout.css);
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/classes.css);
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/monitor.css);
</style>

<link type="text/css" rel="stylesheet" href="https://web.archive.org/web/20071223023256cs_/http://ez.no/extension/ezno2005/design/ezno2005/stylesheets/print.css" media="print"/>

    <link rel="alternate" title="ez.no News" href="https://web.archive.org/web/20071223023256/http://ez.no/rss/feed/news" type="application/rss+xml"/><link rel="alternate" title="ez.no Developer News" href="/web/20071223023256/http://ez.no/rss/feed/communitynews" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Developer Articles" href="https://web.archive.org/web/20071223023256/http://ez.no/rss/feed/community_articles" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Forum" href="https://web.archive.org/web/20071223023256/http://ez.no/rss/feed/forum" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Contributions" href="https://web.archive.org/web/20071223023256/http://ez.no/rss/feed/contribs" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Open Funding" href="https://web.archive.org/web/20071223023256/http://ez.no/rss/feed/openfunding_suggestions" type="application/rss+xml"/>


<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if gte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6gte.css); </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezno2005/design/ezno2005/stylesheets/gecko.css);</style>");--></script>
                                                                                    
<title>
            Overview     /         Backup &amp; Restore     /         Configuration                    </title>
<meta http-equiv="Content-Language" content="en-GB"/>
    <meta name="author" content="Exponential"/>
    <meta name="copyright" content="Exponential as"/>
    <meta name="description" content="eZ Publish is an open source content management system (CMS) and an open source content management framework (CMF)."/>
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework"/>

<meta name="MSSmartTagsPreventParsing" content="TRUE"/>
<meta name="generator" content="Exponential"/>

<script type="text/javascript" src="https://doc.core.exponential.earth/ezno2005/design/ezno2005/javascripts/tools.js"></script>
<script type="text/javascript" src="https://doc.core.exponential.earth/ezno2005/design/ezno2005/javascripts/dropdownmenu.js"></script>
</head>    <body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="https://doc.core.exponential.earth/"><span class="hide">Exponential - The Content Management Ecosystem</span></a></h1>
</div>



<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide"/>
<div id="searchbox">
<form action="/web/20071223023256/http://ez.no/ezsearchredirect/action" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search"/>
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12"/><br/>
    

            <div class="section">
            <label for="searcharea" class="hide">Search area:</label>
            <select id="searcharea" name="SubTreeArray[]">
                <option value="2" selected="selected">All ez.no</option>
                <option value="306">Bug reports</option>
                <option value="21358">Contributions</option>
                <option value="documentation">Documentation</option>
                <option value="308">Forum</option>
            </select>
            </div>
    </div>

</div>
</form>
</div>

<hr class="hide"/>
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/download"><span>Downloads</span></a></li>
    <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/company/contact"><span>Contact</span></a></li>
            <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/user/login"><span>Log in</span></a></li>
        <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/user/register"><span>Register</span></a></li>
    
    <li id="language-menu">
        <a class="highlighted" title="English" href="https://web.archive.org/web/20071223023256/http://ez.no/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/eng-GB.gif" width="18" height="12" alt="English"/></a>
        <a title="Deutsch" href="https://web.archive.org/web/20071223023256/http://ez.no/de/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/ger-DE.gif" width="18" height="12" alt="Deutsch"/></a>
        <a title="Português" href="https://web.archive.org/web/20071223023256/http://ez.no/br/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/por-BR.gif" width="18" height="12" alt="Português"/></a>
        <a title="Français" href="https://web.archive.org/web/20071223023256/http://ez.no/fr/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/fre-FR.gif" width="18" height="12" alt="Français"/></a>
        <a title="日本語" href="https://web.archive.org/web/20071223023256/http://ez.no/jp/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/jpn-JP.gif" width="18" height="12" alt="日本語"/></a>        
        <a title="中文" href="https://web.archive.org/web/20071223023256/http://ez.no/tw/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/chi-TW.gif" width="18" height="12" alt="中文"/></a>        
        <a title="Norsk" href="https://web.archive.org/web/20071223023256/http://ez.no/no/ezpublish/documentation/configuration/backup_restore/overview"><img src="/ezno2005/design/ezno2005/images/nor-NO.gif" width="18" height="12" alt="Norsk"/></a>        
    </li>
</ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END --><script type="text/javascript">
<!--
var menu = new Array();


-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">
<li class="current"><a href="https://web.archive.org/web/20071223023256/http://ez.no/products" onmouseover="switchSubMenu( this );">Products &amp; services</a></li>
<li><a href="https://web.archive.org/web/20071223023256/http://ez.no/education" onmouseover="switchSubMenu( this );">Education</a></li>
<li><a href="https://web.archive.org/web/20071223023256/http://ez.no/customers" onmouseover="switchSubMenu( this );">Customers</a></li>
<li><a href="https://web.archive.org/web/20071223023256/http://ez.no/partner" onmouseover="switchSubMenu( this );">Partners</a></li>
<li><a href="https://web.archive.org/web/20071223023256/http://ez.no/developer" onmouseover="switchSubMenu( this );">Developer</a></li>
<li><a href="https://web.archive.org/web/20071223023256/http://ez.no/support" onmouseover="switchSubMenu( this );">Support</a></li>
<li><a href="https://web.archive.org/web/20071223023256/http://ez.no/store" onmouseover="switchSubMenu( this );">Store</a></li>
<li class="last"><a href="https://web.archive.org/web/20071223023256/http://ez.no/company" onmouseover="switchSubMenu( this );">Company</a></li>
</ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">
                        <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezpublish">eZ Publish</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezpublish/premium">eZ Publish Premium</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezpublish/now">eZ Publish Now</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezpublish/on_demand">eZ Publish On Demand</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/products/proprietary_license_options">Proprietary license options</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/products/certified_extensions">Certified extensions</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezflow">eZ Flow</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezcomponents">eZ Components</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/ezfind">eZ Find</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/eznewsletter">eZ Newsletter</a></li>
                                <li><a href="https://web.archive.org/web/20071223023256/http://ez.no/products/expert_consulting_services">Expert consulting services</a></li>
                                <li class="last"><a href="https://web.archive.org/web/20071223023256/http://ez.no/products/support">Support</a></li>
                </ul>
</div>
</div>

<script type="text/javascript"><!--
    document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide"/><!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                        <a href="https://web.archive.org/web/20071223023256/http://ez.no/">ez.no</a>
        
                        /
                            <a href="https://web.archive.org/web/20071223023256/http://ez.no/ezpublish">ezpublish</a>
        
                        /
                            <a href="toc.html">documentation</a>
        
                        /
                            <a href="configuration.html">configuration</a>
        
                        /
                            <a href="configuration/backup_restore.html">backup &amp; restore</a>
        
                        /
                            overview
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide"/>

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-documentation">


<div class="attribute-heading">
    <h1>Overview</h1>
</div>

<p><strong>These documentation pages are no longer maintained. Please visit the <a href="https://exponential.doc.exponential.earth">new documentation site.</a></strong></p>

<div class="attribute-long">
    

<p>
Just an overview....
</p>

<p>
For a backup of an ez3 (or ez2) system, you can use the backup-script &quot; <a href="https://web.archive.org/web/20071223023256/http://ez.no/" target="_blank">reoback</a>&quot;.
</p>

<a name="eztoc67348_1" id="eztoc67348_1"></a><h2>Backup</h2>
<ol>

<li>(for ez2, optional:) Call your cron-job to do a session cleanup and so on, thus minimizing your session* tables in the DB </li>

<li>Do a backup of your Database. For MySQL, we use mysqldump to dump one ez Database into a text file. </li>

<li>Use reoback to backup your complete ez3 directory, the database dump, that was created by mysqldump and maybe your Apache configuration. This should give you one nice tar.gz of your site.</li>

</ol>

<a name="eztoc67348_2" id="eztoc67348_2"></a><h2>Restore</h2>
<p>
Reverse the backup process :
</p>

<ol>

<li>Unpack your tar.gz to re-create the files </li>

<li>re-recreate your database by importing your DB dump (like mysql my_database if necessary, restore your apache config (httpd.conf) and restart your webserver</li>

</ol>

<p>
General Notes: 
</p>

<ul>

<li>For consistance's sake, try to backup the files at the same time or directly after the database. </li>

<li>Reoback can be used to copy or move your backup files to some other server using FTP or NFS. I would recommend this. If you don't have some other server/webspace, that you can FTP to, you need to download the backup files to some client (probably manually, except your client is running all the time). Beware of huge files!</li>

<li>Reoback can be used to do incremental backups. </li>

<li>This process can be used to port/copy/clone any ez site. Just restore to some other place/server and adapt your .ini's. </li>

<li>Of course, you should automate the process by using the server's cron system and some small Perl scripts.</li>

</ul>

<p>
PS: Can any MySQL guru please comment, if mysqldump really is the best choice for doing a consistant dump (=is the DB locked)? <b>Regarding mysqldump</b>: If you use the -l or --lock-tables option when using mysqldump, it will lock all tables in a database (not across all databases, just one at a time). There's also the --add-locks option which will lock each table separately but it does not guarantee consistency across a database.
</p>

<p>

 &lt;li&gt;if necessary, restore your apache config (httpd.conf) and restart your webserver&lt;/li&gt;&lt;/ol&gt;General Notes:&lt;ul&gt; &lt;li&gt;For consistance's sake, try to backup the files at the same time or directly after the database. &lt;/li&gt; &lt;li&gt;Reoback can be used to copy or move your backup files to some other server using FTP or NFS. I would recommend this. If you don't have some other server/webspace, that you can FTP to, you need to download the backup files to some client (probably manually, except your client is running all the time). Beware of huge files!&lt;/li&gt; &lt;li&gt;Reoback can be used to do incremental backups. &lt;/li&gt; &lt;li&gt;This process can be used to port/copy/clone any ez site. Just restore to some other place/server and adapt your .ini's. &lt;/li&gt; &lt;li&gt;Of course, you should automate the process by using the server's cron system and some small Perl scripts.&lt;/li&gt;&lt;/ul&gt;PS: Can any MySQL guru please comment, if mysqldump really is the best choice for doing a consistant dump (=is the DB locked)?&lt;strong&gt;Regarding mysqldump&lt;/strong&gt;: If you use the -l or --lock-tables option when using mysqldump, it will lock all tables in a database (not across all databases, just one at a time). There's also the --add-locks option which will lock each table separately but it does not guarantee consistency across a database.&lt;/paragraph&gt;&lt;/sec<br/>if necessary, restore your apache config (httpd.conf) and restart your webserver
</p>

<p>
General Notes:
</p>

<ul>

<li>For consistance's sake, try to backup the files at the same time or directly after the database. </li>

<li>
Reoback can be used to copy or move your backup files to some other server using FTP or NFS. I would recommend this. <br/>If you don't have some other server/webspace, that you can FTP to, you need to download the backup files to some client (probably manually, except your client is running all the time). Beware of huge files!</li>

<li>Reoback can be used to do incremental backups. </li>

<li>This process can be used to port/copy/clone any ez site. Just restore to some other place/server and adapt your .ini's. </li>

<li>Of course, you should automate the process by using the server's cron system and some small Perl scripts.</li>

</ul>

<p>
PS: Can any MySQL guru please comment, if mysqldump really is the best choice for doing a consistant dump (=is the DB locked)?
</p>

<p>
<b>Regarding mysqldump</b>: If you use the -l or --lock-tables option when using mysqldump, it will lock all tables in a database (not across all databases, just one at a time). There's also the --add-locks option which will lock each table separately but it does not guarantee consistency across a database.
</p>
</div>


<div class="content-view-children">
<div class="class-comment">
    <h1 id="comments">Comments</h1>


        

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg31166" class="attribute-heading">
        <h2>Postgresql dump</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Zoltan Szabo</p>
    <p class="date">Monday 28 July 2003 7:20:33 am</p>
</div>


<div class="attribute-short">
            pg_dump ezdb -Uezusr &gt; this_is_the_dumpfile<br/>
then<br/>
psql ezdb -Uezusr &lt; this_is_the_dumpfile<br/>
<br/>
There is a -d or -D option of the pg_dump - depending on it you can use inserts or inserts-columns instead of the &quot;copy&quot;. Or you can change --format=format, if you want e.g. a tar archive format.

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg30155" class="attribute-heading">
        <h2>Mysqldump</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Björn Dieding@xrow.de</p>
    <p class="date">Tuesday 15 July 2003 2:51:18 pm</p>
</div>


<div class="attribute-short">
            I don't use mysqldump to do the database backup, because it is lame and uses to much resources. <br/>
<br/>
I would prefer mysqlhotcopy or some similar technique that works with binary dumps.<br/>
<br/>
Also one idea would be using database replication. That what you can lock your replicated DB, dump it and unlock it again. With out any effect on the master DB.<br/>
<br/>
Prove me wrong ;-)... I am just throwing ideas around. <br/>
 <br/>


    </div>


</div>
</div>


 


</div>
</div>

<div class="block float-break">
            <form method="post" action="/web/20071223023256/http://ez.no/content/action">
            <input class="button" type="submit" name="NewButton" value="New comment"/>
            <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/configuration/backup_restore/overview#comments"/>
            <input type="hidden" name="NodeID" value="25132"/>
                           <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                        <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
        </form>
    </div>

</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-documentation">

<div class="attribute-heading">
    <h2 class="bullet">Contents</h2>
</div>
<h3><a href="configuration.html">Configuration</a></h3>
<p>
        
        
            
                    <a href="configuration/configuration.html">Configuration</a><br/>
          
	
            
                    <a href="configuration/security.html">Security</a><br/>
          
	
            
                    <a href="configuration/optimization.html">Optimization</a><br/>
          
	
            
                    <a href="configuration/backup_restore.html">Backup &amp; Restore</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="configuration/backup_restore/move_to_new_provider.html">Move to new provider</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="configuration/backup_restore/overview.html"><b>Overview</b></a><br/>
          
	
            
                    <a href="configuration/troubleshooting.html">Troubleshooting</a><br/>
          
	
        </p>


<hr class="docsplit"/>
<h3>Created</h3>
<p>
03/05/2003<br/>
12:13:28 pm<br/>
by Marco Zinn
</p>
<h3>Last updated</h3>
<p>
04/07/2003<br/>
2:44:15 pm<br/>
by Bård Farstad
</p>
<h3>Authors</h3>
<p class="rendered">Marco Zinn<br/>Hans Melis<br/>Bård Farstad<br/></p>

<br/>
<hr class="docsplit"/>

<p>This page is part of the eZ Publish documentation. The documentation is available under the <a href="https://web.archive.org/web/20071223023256/http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License.</a> All contributions will be released under the terms of this license.</p>

</div>
</div>
</div>





<!-- Main area content: END -->

</div>
</div>

<!-- Main area: END -->

<hr class="hide"/>

<!-- Footer area: START -->
<div id="footer-design">
<div id="page-width6">
<div id="footer">

<address>Powered by eZ Publish&reg; Content Management System.<br/>
Copyright &copy;1999 - 2025 7x and 2007 Exponential (except where otherwise noted). All rights reserved.</address>

</div>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->


    

</body>
</html>

<!-- th[eZ] 20050804 --><!--
     FILE ARCHIVED ON 02:32:56 Dec 23, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 11:19:09 Oct 31, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.517
  exclusion.robots: 0.015
  exclusion.robots.policy: 0.007
  esindex: 0.011
  cdx.remote: 9.199
  LoadShardBlock: 74.258 (3)
  PetaboxLoader3.datanode: 102.305 (4)
  load_resource: 134.688
  PetaboxLoader3.resolve: 87.024
-->