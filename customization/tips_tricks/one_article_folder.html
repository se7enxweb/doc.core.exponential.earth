
<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/core.css);
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/pagelayout.css);
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/classes.css);
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/monitor.css);
</style>

<link type="text/css" rel="stylesheet" href="https://web.archive.org/web/20071215045315cs_/http://ez.no/extension/ezno2005/design/ezno2005/stylesheets/print.css" media="print"/>

    <link rel="alternate" title="ez.no News" href="https://web.archive.org/web/20071215045315/http://ez.no/rss/feed/news" type="application/rss+xml"/><link rel="alternate" title="ez.no Developer News" href="/web/20071215045315/http://ez.no/rss/feed/communitynews" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Developer Articles" href="https://web.archive.org/web/20071215045315/http://ez.no/rss/feed/community_articles" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Forum" href="https://web.archive.org/web/20071215045315/http://ez.no/rss/feed/forum" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Contributions" href="https://web.archive.org/web/20071215045315/http://ez.no/rss/feed/contribs" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Open Funding" href="https://web.archive.org/web/20071215045315/http://ez.no/rss/feed/openfunding_suggestions" type="application/rss+xml"/>


<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if gte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6gte.css); </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezno2005/design/ezno2005/stylesheets/gecko.css);</style>");--></script>
                                                                                    
<title>
            One Article Folder     /         Tips &amp; Tricks     /         Customization                    </title>
<meta http-equiv="Content-Language" content="en-GB"/>
    <meta name="author" content="eZ Systems"/>
    <meta name="copyright" content="eZ Systems as"/>
    <meta name="description" content="eZ Publish is an open source content management system (CMS) and an open source content management framework (CMF)."/>
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework"/>

<meta name="MSSmartTagsPreventParsing" content="TRUE"/>
<meta name="generator" content="eZ Publish"/>

<script type="text/javascript" src="https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/javascripts/tools.js"></script>
<script type="text/javascript" src="https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/javascripts/dropdownmenu.js"></script>
</head>    <body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="https://doc.core.ezpublish.se7enx.com/"><span class="hide">eZ Systems - The Content Management Ecosystem</span></a></h1>
</div>



<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide"/>
<div id="searchbox">
<form action="/web/20071215045315/http://ez.no/ezsearchredirect/action" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search"/>
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12"/><br/>
    

            <div class="section">
            <label for="searcharea" class="hide">Search area:</label>
            <select id="searcharea" name="SubTreeArray[]">
                <option value="2" selected="selected">All ez.no</option>
                <option value="306">Bug reports</option>
                <option value="21358">Contributions</option>
                <option value="documentation">Documentation</option>
                <option value="308">Forum</option>
            </select>
            </div>
    </div>

</div>
</form>
</div>

<hr class="hide"/>
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/download"><span>Downloads</span></a></li>
    <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/company/contact"><span>Contact</span></a></li>
            <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/user/login"><span>Log in</span></a></li>
        <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/user/register"><span>Register</span></a></li>
    
    <li id="language-menu">
        <a class="highlighted" title="English" href="https://web.archive.org/web/20071215045315/http://ez.no/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/eng-GB.gif" width="18" height="12" alt="English"/></a>
        <a title="Deutsch" href="https://web.archive.org/web/20071215045315/http://ez.no/de/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/ger-DE.gif" width="18" height="12" alt="Deutsch"/></a>
        <a title="Português" href="https://web.archive.org/web/20071215045315/http://ez.no/br/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/por-BR.gif" width="18" height="12" alt="Português"/></a>
        <a title="Français" href="https://web.archive.org/web/20071215045315/http://ez.no/fr/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/fre-FR.gif" width="18" height="12" alt="Français"/></a>
        <a title="日本語" href="https://web.archive.org/web/20071215045315/http://ez.no/jp/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/jpn-JP.gif" width="18" height="12" alt="日本語"/></a>        
        <a title="中文" href="https://web.archive.org/web/20071215045315/http://ez.no/tw/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/chi-TW.gif" width="18" height="12" alt="中文"/></a>        
        <a title="Norsk" href="https://web.archive.org/web/20071215045315/http://ez.no/no/ezpublish/documentation/customization/tips_tricks/one_article_folder"><img src="/ezno2005/design/ezno2005/images/nor-NO.gif" width="18" height="12" alt="Norsk"/></a>        
    </li>
</ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END --><script type="text/javascript">
<!--
var menu = new Array();

menu[0] = ['eZ Publish', '/ezpublish', 'eZ Publish Premium', '/ezpublish/premium', 'eZ Publish Now', '/ezpublish/now', 'eZ Publish On Demand', '/ezpublish/on_demand', 'Proprietary license options', '/products/proprietary_license_options', 'Certified extensions', '/products/certified_extensions', 'eZ Flow', '/ezflow', 'eZ Components', '/ezcomponents', 'eZ Find', '/ezfind', 'eZ Newsletter', '/eznewsletter', 'Expert consulting services', '/products/expert_consulting_services', 'Support', '/products/support'];
menu[1] = ['Documentation', '/doc', 'Articles', '/community/articles', 'Books', '/store/books', 'Training', '/education/training', 'Certification', '/education/certification'];
menu[2] = ['Case studies', '/customers/case_studies', 'References', '/customers/references', 'User quotes', '/customers/user_quotes', 'eZ for media', '/customers/ez_for_media'];
menu[3] = ['Worldwide Partners', '/partner/worldwide_partners', 'eZ Partner program', '/partner/ez_partner_program', 'Knowledge centre', '/partner/knowledge_centre'];
menu[4] = ['Downloads', '/download', 'Documentation', '/doc', 'News', '/developer/news', 'Developer information', '/developer/developer_information', 'Projects & contributions', '/developer/contribs', 'Forum', '/developer/forum', 'Issue tracker', '/bugs/redirect', 'Open Funding', '/developer/open_funding', 'Security', '/developer/security', 'User groups', '/developer/user_groups'];
menu[5] = ['Total Product Responsibility from eZ', '/support/total_product_responsibility_from_ez'];
menu[6] = ['Software solutions', '/store/software', 'Training', '/services/training', 'Certification', '/services/certification', 'Books', '/store/books', 'Services', '/store/services'];
menu[7] = ['News', '/company/news', 'Media & press', '/company/media_press', 'Events', '/company/events', 'Career', '/company/career', 'eZ Conference & Awards', '/company/ez_conference_awards', 'Board of Directors', '/company/board', 'eZ Crew', '/company/ez_crew', 'Contact', '/company/contact'];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">
<li class="current"><a href="https://web.archive.org/web/20071215045315/http://ez.no/products" onmouseover="switchSubMenu( this );">Products &amp; services</a></li>
<li><a href="https://web.archive.org/web/20071215045315/http://ez.no/education" onmouseover="switchSubMenu( this );">Education</a></li>
<li><a href="https://web.archive.org/web/20071215045315/http://ez.no/customers" onmouseover="switchSubMenu( this );">Customers</a></li>
<li><a href="https://web.archive.org/web/20071215045315/http://ez.no/partner" onmouseover="switchSubMenu( this );">Partners</a></li>
<li><a href="https://web.archive.org/web/20071215045315/http://ez.no/developer" onmouseover="switchSubMenu( this );">Developer</a></li>
<li><a href="https://web.archive.org/web/20071215045315/http://ez.no/support" onmouseover="switchSubMenu( this );">Support</a></li>
<li><a href="https://web.archive.org/web/20071215045315/http://ez.no/store" onmouseover="switchSubMenu( this );">Store</a></li>
<li class="last"><a href="https://web.archive.org/web/20071215045315/http://ez.no/company" onmouseover="switchSubMenu( this );">Company</a></li>
</ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">
                        <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezpublish">eZ Publish</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezpublish/premium">eZ Publish Premium</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezpublish/now">eZ Publish Now</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezpublish/on_demand">eZ Publish On Demand</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/products/proprietary_license_options">Proprietary license options</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/products/certified_extensions">Certified extensions</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezflow">eZ Flow</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezcomponents">eZ Components</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/ezfind">eZ Find</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/eznewsletter">eZ Newsletter</a></li>
                                <li><a href="https://web.archive.org/web/20071215045315/http://ez.no/products/expert_consulting_services">Expert consulting services</a></li>
                                <li class="last"><a href="https://web.archive.org/web/20071215045315/http://ez.no/products/support">Support</a></li>
                </ul>
</div>
</div>

<script type="text/javascript"><!--
    document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide"/><!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                        <a href="https://web.archive.org/web/20071215045315/http://ez.no/">ez.no</a>
        
                        /
                            <a href="https://web.archive.org/web/20071215045315/http://ez.no/ezpublish">ezpublish</a>
        
                        /
                            <a href="toc.html">documentation</a>
        
                        /
                            <a href="customization.html">customization</a>
        
                        /
                            <a href="customization/tips_tricks.html">tips &amp; tricks</a>
        
                        /
                            one article folder
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide"/>

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-documentation">


<div class="attribute-heading">
    <h1>One Article Folder</h1>
</div>

<p><strong>These documentation pages are no longer maintained. Please visit the <a href="https://doc.ezpublishlegacy.se7enx.com">new documentation site.</a></strong></p>

<div class="attribute-long">
    

<a name="eztoc64475_1" id="eztoc64475_1"></a><h2>Situation:</h2>
<p>
You have a folder with just one article. If someone goes into this folder, you want to show the article directly. If there are more articles than one, you want to show the user a list of these articles.
</p>

<p>
To apply below solutions you will have to put the code into an override template for the folder class full view. I.e. this means you create a template which consists of the code from below, put it into /design/yourdesign/override/templates and in your override.ini.append point to this new template for class id 2 (folder). See <a href="https://web.archive.org/web/20071215045315/http://ez.no/developer/ez_publish_3/documentation/customization/custom_design/override_templates">what exactly to put in the override.ini.append</a>.
</p>

<a name="eztoc64475_1_1" id="eztoc64475_1_1"></a><h3>Solution 1:</h3>
<p>
Use this code:
</p>
    <pre class="wordwrap"><span class="line">{* Get the articles (ClassID: &quot;2&quot;! Might be different for you!) *}</span>

<span class="line">{let articles=fetch('content','list',hash(parent_node_id,$node.node_id,class_filter_type,&quot;include&quot;,class_filter_array,array(2)))}</span>

<span class="line">&nbsp;</span>

<span class="line">{* Get a count of the articles (ClassID: &quot;2&quot;! Might be different for you!) in this folder. *}</span>

<span class="line">{let articles_count=fetch('content','list_count',hash(parent_node_id,$node.node_id,class_filter_type,&quot;include&quot;,class_filter_array,array(2)))}</span>

<span class="line">&nbsp;</span>

<span class="line">{* Now decide what to do *}</span>

<span class="line">{switch name=decision match=$articles_count}</span>

<span class="line">{case match=1}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{* Show this if there is only one article! E.g. include the &quot;full article view&quot; page. *}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section name=Article loop=$articles}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{node_view_gui view=full content_node=$decision:Article:item}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">{/case}</span>

<span class="line">{case}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{* Show this for more than one article. *}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section name=Article loop=$articles}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h3&gt;{$decision:Article:item.name}&lt;/h3&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{$decision:Article:item.data_map.intro.data_text}&lt;br /&gt;&lt;br /&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section name=read_link show=$decision:Article:item.contentobject_version_object.data_map.body}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;a href={concat(&quot;/content/view/full/&quot;,$decision:Article:item.node_id)|ezurl}&gt;Read more...&lt;/a&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr /&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">{/case}</span>

<span class="line">{/switch}</span></pre>
    
<a name="eztoc64475_1_1_1" id="eztoc64475_1_1_1"></a><h4>Solution 2:</h4>
<p>
Another solution that may be better in terms of speed, depending upon your site design. The difference here is the use of the keyword 'limit' which will limit the number of articles to be returned. For example, the code given below will only return a single article and display it. (Difference to solution 1: this solution will <i>always</i> show just 1 article. Solution 1 will show all articles if there are more than 1.)
</p>
    <pre class="wordwrap"><span class="line">{let articles=fetch(content,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash(parent_node_id, $node.node_id,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit, 1,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_filter_type, &quot;include&quot;,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_filter_array, array(2)))</span>

<span class="line">}</span>

<span class="line">&nbsp;</span>

<span class="line">{section name=Article loop=$articles}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{node_view_gui view=full content_node=$Article:item}</span>

<span class="line">{/section}</span>

<span class="line">&nbsp;</span>

<span class="line">{/let}</span></pre>
    
<a name="eztoc64475_1_2" id="eztoc64475_1_2"></a><h3>Solution 3 for 3.4:</h3>
<p>

You need two steps:<br/>
For 3.4 and the new demo folder full view use:<br/>design/news/override/templates/full/folder.tpl
</p>
    <pre class="wordwrap">
<span class="line">{* Folder - Full view *}</span>

<span class="line">&lt;div class=&quot;content-view-full&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&lt;div class=&quot;class-folder&quot;&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=is_unset( $versionview_mode )} {*start&nbsp;1*}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=$node.object.data_map.show_children.content}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{let page_limit=10</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_items=array()</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_count=0}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=or( $view_parameters.day, $view_parameters.month, $view_parameters.year )}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{let time_filter=array( and,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array( 'published', '&gt;=',</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maketime( 0, 0, 0,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$view_parameters.month, cond( $view_parameters.day, $view_parameters.day, 1 ), $view_parameters.year ) ),</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array( 'published', '&lt;=',</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maketime( 23, 59, 59,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cond( $view_parameters.day, $view_parameters.month, $view_parameters.month|inc ), cond( $view_parameters.day, $view_parameters.day, 0 ), $view_parameters.year ) ) )}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{set list_items=fetch_alias( folder_children, hash( parent_node_id, $node.node_id,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offset, $view_parameters.offset,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attribute_filter, $time_filter,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort_by, $node.sort_array,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit, $page_limit</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) )</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_count=fetch_alias( folder_children_count, hash( parent_node_id, $node.node_id ) )}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/let}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section-else}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{set list_items=fetch_alias( folder_children, hash( parent_node_id, $node.node_id,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;offset, $view_parameters.offset,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sort_by, $node.sort_array,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;limit, $page_limit&nbsp;&nbsp;))}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{set list_count=fetch_alias( folder_children_count, hash( parent_node_id, $node.node_id ) )}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;content-view-children&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{switch match=$list_count}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{* If only one article in folder: display this in full article view *}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{case match=1}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/case}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{* If more than one article in folder: display list of articles in line view *}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{case}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;{$node.object.data_map.name.content|wash()}&lt;/h1&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=$node.object.data_map.short_description.content.is_empty|not}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-short&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.short_description}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=$node.object.data_map.description.content.is_empty|not}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-long&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.description}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/case}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/switch}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section var=child loop=$list_items sequence=array(bglight,bgdark)}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{switch match=$list_count}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{* If only one article in folder: display this in full article view *}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{case match=1}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{node_view_gui view=full content_node=$child}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/case}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{* If more than one article in folder: display list of articles in line view *}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{case}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{node_view_gui view=line content_node=$child}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/case}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/switch}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{include name=navigator</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uri='design:navigator/google.tpl'</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page_uri=$node.url_alias</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_count=$list_count</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view_parameters=$view_parameters</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_limit=$page_limit}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/let}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section-else}&nbsp;&nbsp;{*else&nbsp;1*}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;{$node.object.data_map.name.content|wash()}&lt;/h1&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=$node.object.data_map.short_description.content.is_empty|not}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-short&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.short_description}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{section show=$node.object.data_map.description.content.is_empty|not}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-long&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.description}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/section}{*end 1 *}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&lt;/div&gt;</span></pre>
    
<p>

and because auf the fetch_alias you need to add these lines to your<br/>
settings/siteaccess/news/fetchalias.ini.append.php<br/>
</p>
    <pre class="wordwrap">
<span class="line">[folder_children]</span>

<span class="line">Constant[sort_by]=priority;0</span>

<span class="line">Parameter[parent_node_id]=parent_node_id</span>

<span class="line">Parameter[offset]=offset</span>

<span class="line">Parameter[limit]=limit</span>

<span class="line">Constant[class_filter_type]=exclude</span>

<span class="line">Constant[class_filter_array]=folder</span>

<span class="line">Module=content</span>

<span class="line">FunctionName=list</span>

<span class="line">&nbsp;</span>

<span class="line">[folder_children_count]</span>

<span class="line">Parameter[parent_node_id]=parent_node_id</span>

<span class="line">Module=content</span>

<span class="line">FunctionName=list_count</span>

<span class="line">Constant[class_filter_type]=exclude</span>

<span class="line">Constant[class_filter_array]=folder</span></pre>
    </div>


<div class="content-view-children">
<div class="class-comment">
    <h1 id="comments">Comments</h1>    <div class="block float-break">
              <form method="post" action="/web/20071215045315/http://ez.no/content/action">
             <input class="button" type="submit" name="NewButton" value="New comment"/>
             <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/customization/tips_tricks/one_article_folder#comments"/>
             <input type="hidden" name="NodeID" value="24182"/>
                             <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                          <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
         </form>
         </div>


        

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg31216" class="attribute-heading">
        <h2>Simplifying...</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Restrepo John</p>
    <p class="date">Monday 28 July 2003 5:23:39 pm</p>
</div>


<div class="attribute-short">
            Modify your ./mydesign/override/folder.tpl to content these lines and you're done. Note that is pretty much the same as the original folder.tpl, except that if there's only one article it shows it in full view and if there's more than one article it shows them in line view. <br/>
Thanks for the tip EzCrew,<br/>
<br/>
<br/>
{* Folder template *}<br/>
<br/>
{default with_children=true()}<br/>
	{let page_limit=20<br/>
	     articles_count=and( $with_children, fetch( content, list_count, hash( <br/>
	                                                                     parent_node_id, $node.node_id,<br/>
	                                                                     class_filter_type, exclude, <br/>
	                                                                     class_filter_array, array( 1, 10 ) ) ) )}<br/>
		 {default content_version=$node.contentobject_version_object}<br/>
		<br/>
			&lt;div class=&quot;block&quot;&gt;<br/>
			    {attribute_view_gui attribute=$content_version.data_map.description}<br/>
			&lt;/div&gt;<br/>
			{section show=$with_children}<br/>
			    {section name=Child loop=fetch(content, list, hash( <br/>
			                                                  parent_node_id, $node.node_id,<br/>
			                                                  limit, $page_limit,<br/>
			                                                  offset, $view_parameters.offset,<br/>
			                                                  sort_by, $node.sort_array,<br/>
			                                                  class_filter_type, exclude, <br/>
			                                                  class_filter_array, array( 1, 10 ) ) )}<br/>
			        {switch match=$articles_count}<br/>
				        {* If only one article in folder: display this in full article view *}<br/>
				         {case match=1}                                         <br/>
				         	{node_view_gui view=full content_node=$Child:item}<br/>
				         {/case}<br/>
				         {* If more than one article in folder: display list of articles in line view *}<br/>
				         {case}<br/>
				        	{node_view_gui view=line content_node=$Child:item}<br/>
				         {/case}<br/>
			        {/switch}	<br/>
			    {/section}<br/>
			{/section}<br/>
		{/default}<br/>
	{/let}<br/>
{/default}<br/>


    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg30046" class="attribute-heading">
        <h2>Thanks, your addon gave me some ideas and I ended up with this:</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Valentin Svelland</p>
    <p class="date">Monday 14 July 2003 9:56:13 am</p>
</div>


<div class="attribute-short">
            <br/>
{* Get the articles (ClassID: &quot;2&quot;! Might be different for you!) *}<br/>
{let articles=fetch('content','list',hash(parent_node_id,$node.node_id,class_filter_type,&quot;include&quot;,class_filter_array,array(2)))}<br/>
<br/>
{* Get a count of the articles (ClassID: &quot;2&quot;! Might be different for you!) in this folder. *}<br/>
{let articles_count=fetch('content','list_count',hash(parent_node_id,$node.node_id,class_filter_type,&quot;include&quot;,class_filter_array,array(2)))}<br/>
<br/>
{* Now decide what to do *}<br/>
{switch name=decision match=$articles_count}<br/>
<br/>
{* If only one article in folder: display this in full article view *}<br/>
{case match=1}<br/>
        {* Show this if there is only one article! E.g. include the &quot;full article view&quot; page. *}<br/>
        {section name=Article loop=$articles}<br/>
                {node_view_gui view=full content_node=$decision:Article:item}<br/>
        {/section}<br/>
{/case}<br/>
<br/>
{* If two or more articles: display this according to &quot;line_article.tpl&quot;-view *}<br/>
{case}<br/>
	 {section name=Article loop=$articles}<br/>
                {node_view_gui view=line content_node=$decision:Article:item}<br/>
<br/>
        {/section}<br/>
{/case}<br/>
{/switch}

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg29907" class="attribute-heading">
        <h2>Added missing info on how to apply</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Karsten Jennissen</p>
    <p class="date">Friday 11 July 2003 3:52:13 pm</p>
</div>


<div class="attribute-short">
            At the beginning I added a small paragraph on how to use these code snippets. Hope this helps.

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg29906" class="attribute-heading">
        <h2>But where does the code go?</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Valentin Svelland</p>
    <p class="date">Friday 11 July 2003 3:39:11 pm</p>
</div>


<div class="attribute-short">
            I've poked around for some time with these snippets and can't seem to get it right. Which files do I need to mod in my /design- and /settings-folders to succeed?<br/>
<br/>
Also I think this feature should be considered included in the v.3.2 admin. Quite often I don't need childarticles and therefore no newslisting in my folders. Still, this CMS-engine rules! Keep up the good work.

    </div>


</div>
</div>


 


</div>
</div>

<div class="block float-break">
            <form method="post" action="/web/20071215045315/http://ez.no/content/action">
            <input class="button" type="submit" name="NewButton" value="New comment"/>
            <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/customization/tips_tricks/one_article_folder#comments"/>
            <input type="hidden" name="NodeID" value="24182"/>
                           <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                        <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
        </form>
    </div>

</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-documentation">

<div class="attribute-heading">
    <h2 class="bullet">Contents</h2>
</div>
<h3><a href="customization.html">Customization</a></h3>
<p>
        
        
            
                    <a href="customization/access_control.html">Access control</a><br/>
          
	
            
                    <a href="customization/ez_publish_api_documentation.html">eZ publish API Documentation</a><br/>
          
	
            
                    <a href="customization/content_structure.html">Content structure</a><br/>
          
	
            
                    <a href="customization/custom_design.html">Custom design</a><br/>
          
	
            
                    <a href="customization/components.html">Components</a><br/>
          
	
            
                    <a href="customization/tips_tricks.html">Tips &amp; Tricks</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="debugging_templates.html">Debugging templates</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="javascript_in_templates.html">Javascript in templates</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="fetching_current_user.html">Fetching current user</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="showing_related_objects.html">Showing related objects</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="show_which_templates_are_used.html">Show which templates are used</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="fetching_the_id_of_the_parent.html">Fetching the ID of the parent</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="one_article_folder.html"><b>One Article Folder</b></a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="creating_tree_menus.html">Creating tree menus</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="how_can_i_use_my_own_php_script_inside_ezp.html">How can I use my own php script insid...</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="hiding_attribute_content.html">Hiding attribute content</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="splitting_an_article_over_several_pages.html">Splitting an article over several pages</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="accessing_section_id_in_pagelayout.html">Accessing section id in pagelayout</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="list_articles_in_folder.html">List articles in folder</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="creating_nice_urls.html">Creating nice URLs</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="alt_tag_on_images.html">Alt tag on images</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="improve_the_pagelayouttpl.html">Improve the pagelayout.tpl</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="clean_html_tags.html">Clean HTML tags</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="insert_javascript_call_inside_ezpub_document.html">Insert javascript call inside ezpub d...</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="3rd_party_applications.html">3rd party applications</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="fetch_function_examples.html">Fetch Function examples</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="display_more_than_15_items_on_your_content_administration_page.html">Display more than 15 items on your co...</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="including_php_files_in_templates.html">Including PHP files in templates</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="redirecting_after_content_publishing.html">Redirecting after content publishing</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="howto_see_if_article_has_an_image.html">HowTo see if article has an image</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="date_and_time_formats.html">Date and Time Formats</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="forms_processing_example_store_user_data_without_logging_in.html">Forms processing example: store user...</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="adjust_timezone.html">Adjust Timezone</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="adding_a_remove_button_image.html">Adding a Remove Button/Image</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="find_the_age_in_years_for_an_object.html">Find the age in years for an object</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="editing_creating_and_removing_content_from_the_user_page.html">Editing, creating and removing conten...</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="indexing_binary_files_with_ifilters_on_windows_installations.html">Indexing binary files with IFilters o...</a><br/>
          
	
            
                    <a href="../troubleshooting.html">Troubleshooting</a><br/>
          
	
        </p>


<hr class="docsplit"/>
<h3>Created</h3>
<p>
21/04/2003<br/>
4:17:18 am<br/>
by Kai Duebbert
</p>
<h3>Last updated</h3>
<p>
01/09/2004<br/>
1:09:54 pm<br/>
by Ekkehard Dörre
</p>
<h3>Authors</h3>
<p class="rendered">Kai Duebbert<br/>Bård Farstad<br/>Karsten Jennissen<br/>Ekkehard Dörre<br/></p>

<br/>
<hr class="docsplit"/>

<p>This page is part of the eZ Publish documentation. The documentation is available under the <a href="https://web.archive.org/web/20071215045315/http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License.</a> All contributions will be released under the terms of this license.</p>

</div>
</div>
</div>





<!-- Main area content: END -->

</div>
</div>

<!-- Main area: END -->

<hr class="hide"/>

<!-- Footer area: START -->
<div id="footer-design">
<div id="page-width6">
<div id="footer">

<address>Powered by eZ Publish&reg; Content Management System.<br/>
Copyright &copy;1999 - 2024 7x and 2007 eZ Systems AS (except where otherwise noted). All rights reserved.</address>

</div>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->


    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFEDSZJYH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFEDSZJYH0');
</script>


</body>
</html>

<!-- th[eZ] 20050804 --><!--
     FILE ARCHIVED ON 04:53:15 Dec 15, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 11:20:00 Oct 31, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 1.198
  exclusion.robots: 0.016
  exclusion.robots.policy: 0.008
  esindex: 0.009
  cdx.remote: 4.504
  LoadShardBlock: 278.347 (3)
  PetaboxLoader3.datanode: 88.319 (4)
  PetaboxLoader3.resolve: 194.528 (2)
  load_resource: 192.788
-->