
<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/core.css);
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/pagelayout.css);
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/classes.css);
    @import url(https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/stylesheets/monitor.css);
</style>

<link type="text/css" rel="stylesheet" href="https://web.archive.org/web/20071224032324cs_/http://ez.no/extension/ezno2005/design/ezno2005/stylesheets/print.css" media="print"/>

    <link rel="alternate" title="ez.no News" href="https://web.archive.org/web/20071224032324/http://ez.no/rss/feed/news" type="application/rss+xml"/><link rel="alternate" title="ez.no Developer News" href="/web/20071224032324/http://ez.no/rss/feed/communitynews" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Developer Articles" href="https://web.archive.org/web/20071224032324/http://ez.no/rss/feed/community_articles" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Forum" href="https://web.archive.org/web/20071224032324/http://ez.no/rss/feed/forum" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Contributions" href="https://web.archive.org/web/20071224032324/http://ez.no/rss/feed/contribs" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Open Funding" href="https://web.archive.org/web/20071224032324/http://ez.no/rss/feed/openfunding_suggestions" type="application/rss+xml"/>


<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if gte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6gte.css); </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezno2005/design/ezno2005/stylesheets/gecko.css);</style>");--></script>
                                                                                    
<title>
            Information collection     /         Components     /         Customization                    </title>
<meta http-equiv="Content-Language" content="en-GB"/>
    <meta name="author" content="eZ Systems"/>
    <meta name="copyright" content="eZ Systems as"/>
    <meta name="description" content="eZ Publish is an open source content management system (CMS) and an open source content management framework (CMF)."/>
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework"/>

<meta name="MSSmartTagsPreventParsing" content="TRUE"/>
<meta name="generator" content="eZ Publish"/>

<script type="text/javascript" src="https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/javascripts/tools.js"></script>
<script type="text/javascript" src="https://doc.core.ezpublish.se7enx.com/ezno2005/design/ezno2005/javascripts/dropdownmenu.js"></script>
</head>    <body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="https://doc.core.ezpublish.se7enx.com/"><span class="hide">eZ Systems - The Content Management Ecosystem</span></a></h1>
</div>



<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide"/>
<div id="searchbox">
<form action="/web/20071224032324/http://ez.no/ezsearchredirect/action" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search"/>
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12"/><br/>
    

            <div class="section">
            <label for="searcharea" class="hide">Search area:</label>
            <select id="searcharea" name="SubTreeArray[]">
                <option value="2" selected="selected">All ez.no</option>
                <option value="306">Bug reports</option>
                <option value="21358">Contributions</option>
                <option value="documentation">Documentation</option>
                <option value="308">Forum</option>
            </select>
            </div>
    </div>

</div>
</form>
</div>

<hr class="hide"/>
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/download"><span>Downloads</span></a></li>
    <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/company/contact"><span>Contact</span></a></li>
            <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/user/login"><span>Log in</span></a></li>
        <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/user/register"><span>Register</span></a></li>
    
    <li id="language-menu">
        <a class="highlighted" title="English" href="https://web.archive.org/web/20071224032324/http://ez.no/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/eng-GB.gif" width="18" height="12" alt="English"/></a>
        <a title="Deutsch" href="https://web.archive.org/web/20071224032324/http://ez.no/de/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/ger-DE.gif" width="18" height="12" alt="Deutsch"/></a>
        <a title="Português" href="https://web.archive.org/web/20071224032324/http://ez.no/br/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/por-BR.gif" width="18" height="12" alt="Português"/></a>
        <a title="Français" href="https://web.archive.org/web/20071224032324/http://ez.no/fr/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/fre-FR.gif" width="18" height="12" alt="Français"/></a>
        <a title="日本語" href="https://web.archive.org/web/20071224032324/http://ez.no/jp/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/jpn-JP.gif" width="18" height="12" alt="日本語"/></a>        
        <a title="中文" href="https://web.archive.org/web/20071224032324/http://ez.no/tw/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/chi-TW.gif" width="18" height="12" alt="中文"/></a>        
        <a title="Norsk" href="https://web.archive.org/web/20071224032324/http://ez.no/no/ezpublish/documentation/customization/components/information_collection"><img src="/ezno2005/design/ezno2005/images/nor-NO.gif" width="18" height="12" alt="Norsk"/></a>        
    </li>
</ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END --><script type="text/javascript">
<!--
var menu = new Array();

menu[0] = ['eZ Publish', '/ezpublish', 'eZ Publish Premium', '/ezpublish/premium', 'eZ Publish Now', '/ezpublish/now', 'eZ Publish On Demand', '/ezpublish/on_demand', 'Proprietary license options', '/products/proprietary_license_options', 'Certified extensions', '/products/certified_extensions', 'eZ Flow', '/ezflow', 'eZ Components', '/ezcomponents', 'eZ Find', '/ezfind', 'eZ Newsletter', '/eznewsletter', 'Expert consulting services', '/products/expert_consulting_services', 'Support', '/products/support'];
menu[1] = ['Documentation', '/doc', 'Articles', '/community/articles', 'Books', '/store/books', 'Training', '/education/training', 'Certification', '/education/certification'];
menu[2] = ['Case studies', '/customers/case_studies', 'References', '/customers/references', 'User quotes', '/customers/user_quotes', 'eZ for media', '/customers/ez_for_media'];
menu[3] = ['Worldwide Partners', '/partner/worldwide_partners', 'eZ Partner program', '/partner/ez_partner_program', 'Knowledge centre', '/partner/knowledge_centre'];
menu[4] = ['Downloads', '/download', 'Documentation', '/doc', 'News', '/developer/news', 'Developer information', '/developer/developer_information', 'Projects & contributions', '/developer/contribs', 'Forum', '/developer/forum', 'Issue tracker', '/bugs/redirect', 'Open Funding', '/developer/open_funding', 'Security', '/developer/security', 'User groups', '/developer/user_groups'];
menu[5] = ['Total Product Responsibility from eZ', '/support/total_product_responsibility_from_ez'];
menu[6] = ['Software solutions', '/store/software', 'Training', '/services/training', 'Certification', '/services/certification', 'Books', '/store/books', 'Services', '/store/services'];
menu[7] = ['News', '/company/news', 'Media & press', '/company/media_press', 'Events', '/company/events', 'Career', '/company/career', 'eZ Conference & Awards', '/company/ez_conference_awards', 'Board of Directors', '/company/board', 'eZ Crew', '/company/ez_crew', 'Contact', '/company/contact'];

-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">
<li class="current"><a href="https://web.archive.org/web/20071224032324/http://ez.no/products" onmouseover="switchSubMenu( this );">Products &amp; services</a></li>
<li><a href="https://web.archive.org/web/20071224032324/http://ez.no/education" onmouseover="switchSubMenu( this );">Education</a></li>
<li><a href="https://web.archive.org/web/20071224032324/http://ez.no/customers" onmouseover="switchSubMenu( this );">Customers</a></li>
<li><a href="https://web.archive.org/web/20071224032324/http://ez.no/partner" onmouseover="switchSubMenu( this );">Partners</a></li>
<li><a href="https://web.archive.org/web/20071224032324/http://ez.no/developer" onmouseover="switchSubMenu( this );">Developer</a></li>
<li><a href="https://web.archive.org/web/20071224032324/http://ez.no/support" onmouseover="switchSubMenu( this );">Support</a></li>
<li><a href="https://web.archive.org/web/20071224032324/http://ez.no/store" onmouseover="switchSubMenu( this );">Store</a></li>
<li class="last"><a href="https://web.archive.org/web/20071224032324/http://ez.no/company" onmouseover="switchSubMenu( this );">Company</a></li>
</ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">
                        <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezpublish">eZ Publish</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezpublish/premium">eZ Publish Premium</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezpublish/now">eZ Publish Now</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezpublish/on_demand">eZ Publish On Demand</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/products/proprietary_license_options">Proprietary license options</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/products/certified_extensions">Certified extensions</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezflow">eZ Flow</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezcomponents">eZ Components</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/ezfind">eZ Find</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/eznewsletter">eZ Newsletter</a></li>
                                <li><a href="https://web.archive.org/web/20071224032324/http://ez.no/products/expert_consulting_services">Expert consulting services</a></li>
                                <li class="last"><a href="https://web.archive.org/web/20071224032324/http://ez.no/products/support">Support</a></li>
                </ul>
</div>
</div>

<script type="text/javascript"><!--
    document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide"/><!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                        <a href="https://web.archive.org/web/20071224032324/http://ez.no/">ez.no</a>
        
                        /
                            <a href="https://web.archive.org/web/20071224032324/http://ez.no/ezpublish">ezpublish</a>
        
                        /
                            <a href="toc.html">documentation</a>
        
                        /
                            <a href="customization.html">customization</a>
        
                        /
                            <a href="customization/components.html">components</a>
        
                        /
                            information collection
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide"/>

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-documentation">


<div class="attribute-heading">
    <h1>Information collection</h1>
</div>

<p><strong>These documentation pages are no longer maintained. Please visit the <a href="https://doc.ezpublishlegacy.se7enx.com">new documentation site.</a></strong></p>

<div class="attribute-long">
    

<p>
Information collection allows eZ publish to collect information from a form and send it by e-mail.
</p>

<p>
To do this you can create a class (for example &quot;feedback&quot;) with the following attributes: name, description, subject and message. Set the attributes subject and message as information collectors. These attributes will be used to collect information, while the others (name and description) will be used internally by the webmaster in order to assign a unique name and a description text.
</p>

<p>
When viewing an object of this class, the system will display the subject and message attributes as text fields. eZ publish will collect the information that is inputted into these fields and send it by e-mail when the user hits the &quot;Send&quot; button. The e-mail will be sent to an address specified within a site.ini configuration file (or an override).
</p>

<a name="eztoc81711_1" id="eztoc81711_1"></a><h2>How to use information collection</h2>
<p>
In order to set a form for collecting information and send it by email you need to follow this steps:
</p>

<a name="eztoc81711_1_1" id="eztoc81711_1_1"></a><h3>1- Create a class</h3>
<p>

Create a class called &quot;feedback&quot;, for example, with the following attributes:<br/>
</p>

<ul>

<li><i>name</i> - a name to identify the form.</li>

<li><i>description</i> - to specify what the form is for.</li>

<li><i>subject</i> - the subject of the message.</li>

<li><i>message</i> - the contents.</li>

</ul>

<p>
The attributes subject and message must be checked as &quot;information collectors&quot;, this way eZ publish knows that the information inputted in this attributes is going to be collected to be sent by email.
</p>

<a name="eztoc81711_1_2" id="eztoc81711_1_2"></a><h3>2- Configure the ini file</h3>
<p>

In the file 'settings/siteaccess/my_site/site.ini.append.php' you must specify who is going to be the e-mail reciver:<br/>
</p>
    <pre class="wordwrap"><span class="line">[InformationCollectionSettings]</span>

<span class="line">EmailReceiver=webmaster@example.com</span></pre>
    
<p>

In addition, it is also possible to specify the sender's address:<br/>
</p>
    <pre class="wordwrap"><span class="line">[MailSettings]</span>

<span class="line">EmailSender=division@example.com</span></pre>
    
<p>
Keep in mind that settings in &quot;settings/override/site.ini.append&quot; will override the default and also your siteaccess settings.
</p>

<a name="eztoc81711_1_3" id="eztoc81711_1_3"></a><h3>3- Create an object of the class</h3>
<p>
Create and object of the class &quot;feedback&quot; and put it somewhere in the contents of your site. When creating this object you only need to specify the name and the description of the object. For example, you can create and object and set the attribute name as &quot;Customers Feedback Form&quot; and set the attribute description as &quot;Here you can add your comments about the quality of service you have receive&quot;.
</p>

<a name="eztoc81711_1_4" id="eztoc81711_1_4"></a><h3>4- Create the override template</h3>
<p>
Now you can create the override template for the class &quot;feedback&quot; to be used when viewing objects of this class, this template must be located in 'design/my_site/override/templates'. Here you can see an example (myfeedback.tpl) of how this template would look like:
</p>
    <pre class="wordwrap">
<span class="line">&lt;div class=&quot;content-view-full&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&lt;div class=&quot;class-feedback-form&quot;&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h1&gt;{$node.name|wash()}&lt;/h1&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{include name=Validation uri='design:content/collectedinfo_validation.tpl'</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class='message-warning'</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validation=$validation collection_attributes=$collection_attributes}</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-short&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.description}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;form method=&quot;post&quot; action={&quot;content/action&quot;|ezurl}&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h2&gt;{&quot;Subject&quot;|i18n(&quot;design/base&quot;)}&lt;/h2&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-subject&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.subject}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;h2&gt;{&quot;Message&quot;|i18n(&quot;design/base&quot;)}&lt;/h2&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-message&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.message}</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;content-action&quot;&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;submit&quot; class=&quot;defaultbutton&quot; name=&quot;ActionCollectInformation&quot; </span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=&quot;{&quot;Send form&quot;|i18n(&quot;design/base&quot;)}&quot; /&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;ContentNodeID&quot; value=&quot;{$node.node_id}&quot; /&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;ContentObjectID&quot; value=&quot;{$node.object.id}&quot; /&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type=&quot;hidden&quot; name=&quot;ViewMode&quot; value=&quot;full&quot; /&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/form&gt;</span>

<span class="line">&nbsp;</span>

<span class="line">&nbsp;&nbsp;&nbsp;&lt;/div&gt;</span>

<span class="line">&lt;/div&gt;</span></pre>
    
<a name="eztoc81711_1_5" id="eztoc81711_1_5"></a><h3>5- Specify the override rule</h3>
<p>
Now you must specify the override rule for the class &quot;feedback&quot; in the file '/settings/siteaccess/my_site/override.ini.append' in order to tell eZ publish that you want objects of this class to be viewed with the template you just made and not with the default template.
</p>

<p>
This is what you must specify in the file override.ini.append :
</p>
    <pre class="wordwrap">
<span class="line">[feedback]</span>

<span class="line">Source=node/view/full.tpl</span>

<span class="line">MatchFile=myfeedback.tpl</span>

<span class="line">Subdir=templates</span>

<span class="line">Match[class_identifier]=feedback</span></pre>
    
<a name="eztoc81711_1_6" id="eztoc81711_1_6"></a><h3>6- Create the override template to send the emails</h3>
<p>
After the information is collected an email is going to be created and sent to the receiver's addres specified in the ini file. The template used to create this email is 'design/my_site/override/templates/content/collectinfomail/form.tpl'. If you want your emails to look diferently then you must create an override for this template and place it in 'design/my_site/override/templates/'. Here you can see an example (myfeedback_mail.tpl):
</p>
    <pre class="wordwrap">
<span class="line">&nbsp;</span>

<span class="line">{set-block scope=root variable=subject}</span>

<span class="line">{&quot;Collected information from %1&quot;|i18n(&quot;design/standard/content/edit&quot;,</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,array($collection.object.name))}</span>

<span class="line">{/set-block}</span>

<span class="line">&nbsp;</span>

<span class="line">{* Use this line to specify the e-mail in the template, can read this from the object to</span>

<span class="line">&nbsp;&nbsp;make it dynamic pr form </span>

<span class="line">{set-block scope=root variable=email_receiver}{$object.data_map.reciver.content}{/set-block}</span>

<span class="line">*}</span>

<span class="line">&nbsp;</span>

<span class="line">{* Set this to redirect to another node</span>

<span class="line">{set-block scope=root variable=redirect_to_node_id}2{/set-block}</span>

<span class="line">*}</span>

<span class="line">&nbsp;</span>

<span class="line">{&quot;Here are the contents of the feedback form:&quot;|i18n(&quot;design/standard/content/edit&quot;)}</span>

<span class="line">&nbsp;</span>

<span class="line">{section name=Attribute loop=$collection.attributes}</span>

<span class="line">{$Attribute:item.contentclass_attribute_name|wash}:</span>

<span class="line">{attribute_result_gui view=info attribute=$Attribute:item}</span></pre>
    
<a name="eztoc81711_1_7" id="eztoc81711_1_7"></a><h3>7- Specify the override rule for the emails</h3>
<p>
Now you want eZ publish to use your new customized template for creating the emails to be sent. For this you must again modify the file '/settings/siteaccess/my_site/override.ini.append' and add the following information:
</p>
    <pre class="wordwrap">
<span class="line">[feedback_mail]</span>

<span class="line">Source=content/collectedinformail/form.tpl</span>

<span class="line">MatchFile=myfeedback_mail.tpl</span>

<span class="line">Subdir=templates</span>

<span class="line">Match[class_identifier]=feedback</span></pre>
    
<a name="eztoc81711_1_8" id="eztoc81711_1_8"></a><h3>8- Create the template to view the information collected</h3>
<p>
After the email has been sent eZ publish is going to display the information that has been collected. The template used to view this information is 'design/my_site/override/templates/content/collectinfo/form.tpl'. If you want this page to look diferent then you must create an override for this template and place it in 'design/my_site/override/templates/'. You can call this file for example 'mycollected_form.tpl'.
</p>

<p>
Finally, you must specify the override rule for the template if you want eZ publish to use your new customized template for displaying the collected information. For this you must again modify the file '/settings/siteaccess/my_site/override.ini.append'. You must know the number that identifies the class &quot;feedback&quot;, this number is the class id and you can see it in the admin interface of your site. Then you must add the following information to the file:
</p>
    <pre class="wordwrap">
<span class="line">[collected_feedback_form]</span>

<span class="line">Source=content/collectedinfo/form.tpl</span>

<span class="line">MatchFile=mycollected_form.tpl</span>

<span class="line">Subdir=templates</span>

<span class="line">Match[class]= 'class_id'</span></pre>
    </div>


<div class="content-view-children">
<div class="class-comment">
    <h1 id="comments">Comments</h1>    <div class="block float-break">
              <form method="post" action="/web/20071224032324/http://ez.no/content/action">
             <input class="button" type="submit" name="NewButton" value="New comment"/>
             <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/customization/components/information_collection#comments"/>
             <input type="hidden" name="NodeID" value="29604"/>
                             <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                          <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
         </form>
         </div>


        

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg113181" class="attribute-heading">
        <h2>step 6 - overriding the template that creates the email</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Dan Ruth</p>
    <p class="date">Monday 06 November 2006 9:34:10 pm</p>
</div>


<div class="attribute-short">
            not sure if this has changed with newer versions but i could not affect the behaviour/receiver of the email until i overrode <br/>
<br/>
design/standard/templates/content/collectedinfomail/feedback.tpl as opposed to form.tpl as mentioned in step 6<br/>


    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg99318" class="attribute-heading">
        <h2>no header?</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">ole poulsen</p>
    <p class="date">Friday 28 April 2006 1:01:36 pm</p>
</div>


<div class="attribute-short">
            why does the emails not get any header-information?<br/>
<br/>
I have named my fields (in the class) &quot;subject&quot;, &quot;realname&quot; and &quot;email&quot; but they do not have those functions. Why not? And how do I get email-header-information?

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg99051" class="attribute-heading">
        <h2>ContentObjectAttribute_ezstring_data_text_???</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">ole poulsen</p>
    <p class="date">Tuesday 25 April 2006 3:40:41 pm</p>
</div>


<div class="attribute-short">
            What is this supposed to mean - that is the result i get in the source code of the contact form after having followed the guide here.<br/>
<br/>
&lt;input class=&quot;box&quot; type=&quot;text&quot; size=&quot;70&quot; name=&quot;ContentObjectAttribute_ezstring_data_text_3097&quot; value=&quot;&quot; /<br/>
<br/>
???<br/>
<br/>
It is of course the name-attribute that I dont quite get. Normally those attributes in a contact form would be called &quot;realname&quot;, &quot;email&quot; and &quot;subject&quot; etc... but here they apparently get some automatically generated value - that DOESNT work... at least not for me at the moment.<br/>
<br/>
My emails get send and received allright. But there is no realname, email or subject information in the relevant places.<br/>
<br/>
What to do? <br/>


    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg97935" class="attribute-heading">
        <h2>Problems with final email form</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Zak dma</p>
    <p class="date">Friday 07 April 2006 3:47:13 pm</p>
</div>


<div class="attribute-short">
            I created template my_form1.tpl and add to override.ini.append.php<br/>
[collected_feedback_form]<br/>
Source=content/collectedinfo/form.tpl<br/>
MatchFile=my_form1.tpl<br/>
Subdir=templates<br/>
Match[class]=27<br/>
<br/>
27 - ID of my feedback class<br/>
<br/>
But after sending mail, EZPublish use standard form (not my my_form1.tpl) to display sent information. Why?

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg90321" class="attribute-heading">
        <h2>size for input type=text elements</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Oriol Bausà</p>
    <p class="date">Thursday 22 December 2005 4:18:01 pm</p>
</div>


<div class="attribute-short">
            how can I set a size for the text elements different from 70?

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg72067" class="attribute-heading">
        <h2>How to access the collected informations</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Xavier Dutoit</p>
    <p class="date">Friday 01 April 2005 7:37:29 pm</p>
</div>


<div class="attribute-short">
            Just add to the url:<br/>
content/collectedinfo/[nodeid]<br/>
<br/>
With the infamous 42 node id ;), you then get:<br/>
<br/>
<a href="https://web.archive.org/web/20071224032324/http://ez.no/content/collectedinfo/42" title="http://ez.no/content/collectedinfo/42">http://ez.no/content/collectedinfo/42</a>

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg64620" class="attribute-heading">
        <h2>typo: mesage should be message</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">nigel dodd</p>
    <p class="date">Tuesday 14 December 2004 11:37:34 am</p>
</div>


<div class="attribute-short">
            In the myfeedback.tpl code<br/>
<pre class="wordwrap"><span class="line">
</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-message&quot;&gt;
</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.mesage}
</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
</span>

<span class="line"></span></pre><br/>
Should read:<br/>
<pre class="wordwrap"><span class="line">
</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=&quot;attribute-message&quot;&gt;
</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{attribute_view_gui attribute=$node.object.data_map.message}
</span>

<span class="line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
</span>

<span class="line"></span></pre><br/>
where now the data_map.message is spelt correctly.

    </div>


</div>
</div>


 


</div>
</div>

<div class="block float-break">
            <form method="post" action="/web/20071224032324/http://ez.no/content/action">
            <input class="button" type="submit" name="NewButton" value="New comment"/>
            <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/customization/components/information_collection#comments"/>
            <input type="hidden" name="NodeID" value="29604"/>
                           <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                        <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
        </form>
    </div>

</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-documentation">

<div class="attribute-heading">
    <h2 class="bullet">Contents</h2>
</div>
<h3><a href="customization.html">Customization</a></h3>
<p>
        
        
            
                    <a href="customization/access_control.html">Access control</a><br/>
          
	
            
                    <a href="customization/ez_publish_api_documentation.html">eZ publish API Documentation</a><br/>
          
	
            
                    <a href="customization/content_structure.html">Content structure</a><br/>
          
	
            
                    <a href="customization/custom_design.html">Custom design</a><br/>
          
	
            
                    <a href="customization/components.html">Components</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/images.html">Images</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/datatypes.html">Datatypes</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/shop.html">Shop</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/information_collection.html"><b>Information collection</b></a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/search.html">Search</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/form_processing.html">Form processing</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/error_handling.html">Error handling</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/icons.html">Icons</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/menus.html">Menus</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="customization/components/toolbars.html">Toolbars</a><br/>
          
	
            
                    <a href="customization/tips_tricks.html">Tips &amp; Tricks</a><br/>
          
	
            
                    <a href="customization/troubleshooting.html">Troubleshooting</a><br/>
          
	
        </p>


<hr class="docsplit"/>
<h3>Created</h3>
<p>
08/07/2003<br/>
2:22:56 pm<br/>
by Bård Farstad
</p>
<h3>Last updated</h3>
<p>
15/12/2004<br/>
10:38:43 am<br/>
by Frederik Holljen
</p>
<h3>Authors</h3>
<p class="rendered">Bård Farstad<br/>Yelitza Jaramillo<br/>Frederik Holljen<br/></p>

<br/>
<hr class="docsplit"/>

<p>This page is part of the eZ Publish documentation. The documentation is available under the <a href="https://web.archive.org/web/20071224032324/http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License.</a> All contributions will be released under the terms of this license.</p>

</div>
</div>
</div>





<!-- Main area content: END -->

</div>
</div>

<!-- Main area: END -->

<hr class="hide"/>

<!-- Footer area: START -->
<div id="footer-design">
<div id="page-width6">
<div id="footer">

<address>Powered by eZ Publish&reg; Content Management System.<br/>
Copyright &copy;1999 - 2024 7x and 2007 eZ Systems AS (except where otherwise noted). All rights reserved.</address>

</div>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->


    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFEDSZJYH0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFEDSZJYH0');
</script>


</body>
</html>

<!-- th[eZ] 20050804 --><!--
     FILE ARCHIVED ON 03:23:24 Dec 24, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 11:19:50 Oct 31, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.623
  exclusion.robots: 0.022
  exclusion.robots.policy: 0.011
  esindex: 0.011
  cdx.remote: 4.348
  LoadShardBlock: 169.16 (3)
  PetaboxLoader3.datanode: 80.199 (4)
  PetaboxLoader3.resolve: 186.008 (3)
  load_resource: 102.322
-->