
<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/core.css);
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/pagelayout.css);
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/classes.css);
    @import url(https://doc.core.exponential.earth/ezno2005/design/ezno2005/stylesheets/monitor.css);
</style>

<link type="text/css" rel="stylesheet" href="https://web.archive.org/web/20071224011016cs_/http://ez.no/extension/ezno2005/design/ezno2005/stylesheets/print.css" media="print"/>

    <link rel="alternate" title="ez.no News" href="https://web.archive.org/web/20071224011016/http://ez.no/rss/feed/news" type="application/rss+xml"/><link rel="alternate" title="ez.no Developer News" href="/web/20071224011016/http://ez.no/rss/feed/communitynews" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Developer Articles" href="https://web.archive.org/web/20071224011016/http://ez.no/rss/feed/community_articles" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Forum" href="https://web.archive.org/web/20071224011016/http://ez.no/rss/feed/forum" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Contributions" href="https://web.archive.org/web/20071224011016/http://ez.no/rss/feed/contribs" type="application/rss+xml"/>
<link rel="alternate" title="ez.no Open Funding" href="https://web.archive.org/web/20071224011016/http://ez.no/rss/feed/openfunding_suggestions" type="application/rss+xml"/>


<!-- IE conditional comments; for bug fixes for different IE versions -->
<!--[if IE 5]>     <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie5.css);    </style> <![endif]-->
<!--[if lte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6lte.css); </style> <![endif]-->
<!--[if gte IE 6]> <style type="text/css"> @import url(/extension/ezno2005/design/ezno2005/stylesheets/ie6gte.css); </style> <![endif]-->

<!-- Load special stylesheet (if necessary) for newer Netscape decendants, Mozilla and Firefox, using the Gecko renderer -->
<script type="text/javascript"><!-- if ((navigator.userAgent.indexOf("Gecko") != -1)&&(navigator.userAgent.indexOf("KHTML") == -1)) document.write("<style type=\"text/css\">@import url(/extension/ezno2005/design/ezno2005/stylesheets/gecko.css);</style>");--></script>
                                                                                    
<title>
            Custom template operators     /         Kernel     /         Development                    </title>
<meta http-equiv="Content-Language" content="en-GB"/>
    <meta name="author" content="Exponential"/>
    <meta name="copyright" content="Exponential as"/>
    <meta name="description" content="eZ Publish is an open source content management system (CMS) and an open source content management framework (CMF)."/>
    <meta name="keywords" content="cms, publish, e-commerce, content management, development framework"/>

<meta name="MSSmartTagsPreventParsing" content="TRUE"/>
<meta name="generator" content="Exponential"/>

<script type="text/javascript" src="https://doc.core.exponential.earth/ezno2005/design/ezno2005/javascripts/tools.js"></script>
<script type="text/javascript" src="https://doc.core.exponential.earth/ezno2005/design/ezno2005/javascripts/dropdownmenu.js"></script>
</head>    <body onload="menuInit();">

<!-- Complete page area: START -->
<div id="page">

<!-- Header area: START -->
<div id="header">
<div id="header-insert">

<!-- User menu area: START -->
<div id="usermenu">

<div id="page-width1">

<div id="logo">
<h1><a href="https://doc.core.exponential.earth/"><span class="hide">Exponential - The Content Management Ecosystem</span></a></h1>
</div>



<p class="hide"><a href="#main">Skip to main content</a></p>

<hr class="hide"/>
<div id="searchbox">
<form action="/web/20071224011016/http://ez.no/ezsearchredirect/action" method="get">

<div class="block">
<div class="element">
<input id="searchbutton" class="button" type="submit" value="Search"/>
</div>

<div class="element searchstring">
    <label for="searchtext" class="hide">Search text:</label>
    <input id="searchtext" name="SearchText" type="text" size="12"/><br/>
    

            <div class="section">
            <label for="searcharea" class="hide">Search area:</label>
            <select id="searcharea" name="SubTreeArray[]">
                <option value="2" selected="selected">All ez.no</option>
                <option value="306">Bug reports</option>
                <option value="21358">Contributions</option>
                <option value="documentation">Documentation</option>
                <option value="308">Forum</option>
            </select>
            </div>
    </div>

</div>
</form>
</div>

<hr class="hide"/>
<h2 class="hide">User menu</h2>

<!-- User menu content: START -->
<ul>
            <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/download"><span>Downloads</span></a></li>
    <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/company/contact"><span>Contact</span></a></li>
            <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/user/login"><span>Log in</span></a></li>
        <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/user/register"><span>Register</span></a></li>
    
    <li id="language-menu">
        <a class="highlighted" title="English" href="https://web.archive.org/web/20071224011016/http://ez.no/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/eng-GB.gif" width="18" height="12" alt="English"/></a>
        <a title="Deutsch" href="https://web.archive.org/web/20071224011016/http://ez.no/de/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/ger-DE.gif" width="18" height="12" alt="Deutsch"/></a>
        <a title="Português" href="https://web.archive.org/web/20071224011016/http://ez.no/br/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/por-BR.gif" width="18" height="12" alt="Português"/></a>
        <a title="Français" href="https://web.archive.org/web/20071224011016/http://ez.no/fr/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/fre-FR.gif" width="18" height="12" alt="Français"/></a>
        <a title="日本語" href="https://web.archive.org/web/20071224011016/http://ez.no/jp/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/jpn-JP.gif" width="18" height="12" alt="日本語"/></a>        
        <a title="中文" href="https://web.archive.org/web/20071224011016/http://ez.no/tw/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/chi-TW.gif" width="18" height="12" alt="中文"/></a>        
        <a title="Norsk" href="https://web.archive.org/web/20071224011016/http://ez.no/no/ezpublish/documentation/development/kernel/custom_template_operators"><img src="/ezno2005/design/ezno2005/images/nor-NO.gif" width="18" height="12" alt="Norsk"/></a>        
    </li>
</ul>
<!-- User menu content: END -->

</div>

</div>
<!-- User menu area: END -->

</div>
</div>
<!-- Header area: END --><script type="text/javascript">
<!--
var menu = new Array();


-->
</script>
<div id="menuborder">

<!-- Main menu area: START -->
<div id="menu" onmouseover="menuHover();" onmouseout="tryHideSubMenues();">

<div id="mainmenu" class="float-break">
<div id="page-width2">
    <ul id="mainmenulist" class="float-break">
<li class="current"><a href="https://web.archive.org/web/20071224011016/http://ez.no/products" onmouseover="switchSubMenu( this );">Products &amp; services</a></li>
<li><a href="https://web.archive.org/web/20071224011016/http://ez.no/education" onmouseover="switchSubMenu( this );">Education</a></li>
<li><a href="https://web.archive.org/web/20071224011016/http://ez.no/customers" onmouseover="switchSubMenu( this );">Customers</a></li>
<li><a href="https://web.archive.org/web/20071224011016/http://ez.no/partner" onmouseover="switchSubMenu( this );">Partners</a></li>
<li><a href="https://web.archive.org/web/20071224011016/http://ez.no/developer" onmouseover="switchSubMenu( this );">Developer</a></li>
<li><a href="https://web.archive.org/web/20071224011016/http://ez.no/support" onmouseover="switchSubMenu( this );">Support</a></li>
<li><a href="https://web.archive.org/web/20071224011016/http://ez.no/store" onmouseover="switchSubMenu( this );">Store</a></li>
<li class="last"><a href="https://web.archive.org/web/20071224011016/http://ez.no/company" onmouseover="switchSubMenu( this );">Company</a></li>
</ul>

</div>
</div>


<div id="submenu">
<div id="page-width3">
    <ul class="float-break">
                        <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezpublish">eZ Publish</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezpublish/premium">eZ Publish Premium</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezpublish/now">eZ Publish Now</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezpublish/on_demand">eZ Publish On Demand</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/products/proprietary_license_options">Proprietary license options</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/products/certified_extensions">Certified extensions</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezflow">eZ Flow</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezcomponents">eZ Components</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/ezfind">eZ Find</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/eznewsletter">eZ Newsletter</a></li>
                                <li><a href="https://web.archive.org/web/20071224011016/http://ez.no/products/expert_consulting_services">Expert consulting services</a></li>
                                <li class="last"><a href="https://web.archive.org/web/20071224011016/http://ez.no/products/support">Support</a></li>
                </ul>
</div>
</div>

<script type="text/javascript"><!--
    document.getElementById('submenu').style.display = 'none';
--></script>

</div>
<!-- Main menu area: END -->

</div>

<hr class="hide"/><!-- Path area: START -->
<div id="path">

<div id="page-width4">
<h2 class="hide">Path</h2>

<!-- Path content: START -->
<p>
                        <a href="https://web.archive.org/web/20071224011016/http://ez.no/">ez.no</a>
        
                        /
                            <a href="https://web.archive.org/web/20071224011016/http://ez.no/ezpublish">ezpublish</a>
        
                        /
                            <a href="toc.html">documentation</a>
        
                        /
                            <a href="development.html">development</a>
        
                        /
                            <a href="development/kernel.html">kernel</a>
        
                        /
                            custom template operators
        
            </p>
<!-- Path content: END -->

</div>

</div>
<!-- Path area: END -->

<hr class="hide"/>

<!-- Main area: START -->

<div id="page-width5">
<div id="main" class="float-break">

<!-- Main area content: START -->




<div class="template-design area-main-normal">
<div class="template-module content-view-full">
<div class="template-object class-documentation">


<div class="attribute-heading">
    <h1>Custom template operators</h1>
</div>

<p><strong>These documentation pages are no longer maintained. Please visit the <a href="https://exponential.doc.exponential.earth">new documentation site.</a></strong></p>

<div class="attribute-long">
    

<p>
<b>eztemplatephpoperator</b> allows for built-in php functions to be added as operators to the templating system. This is a brief explanation of what I have figured out about this system. There are currently a number of limitations but I'm sure this functionallity will be extended in the future.
</p>

<p>
If you want to use any PHP function as an operator, then read this page: <a href="https://web.archive.org/web/20071224011016/http://ez.no/ez_publish/documentation/development/extensions/template_operator">Template operator</a>
</p>

<a name="eztoc71319_1" id="eztoc71319_1"></a><h2>Defining new operators</h2>
<p>
New template operators can be added easily by overiding the template.ini file. As an example we'd like to include base64 encoding as an operator. This is done with the following changes in template.ini
</p>
    <pre class="wordwrap"><span class="line">[PHP]</span>

<span class="line"># A list with php functions and their equivelant template operator names</span>

<span class="line"># Giving the operators a different name from the PHP functions</span>

<span class="line"># are recommended, that way you ensure that all operators follow</span>

<span class="line"># the same naming guidelines. It also means that you can change the</span>

<span class="line"># php function later on without doing template changes.</span>

<span class="line">PHPOperatorList[]</span>

<span class="line">PHPOperatorList[upcase]=strtoupper</span>

<span class="line">PHPOperatorList[downcase]=strtolower</span>

<span class="line">PHPOperatorList[reverse]=strrev</span>

<span class="line">PHPOperatorList[nl2br]=nl2br</span>

<span class="line">PHPOperatorList[urlencode]=urlencode</span>

<span class="line">PHPOperatorList[encodestring]=base64_encode</span>

<span class="line">PHPOperatorList[decodestring]=base64_decode</span></pre>
    
<p>
You can see from the example that the two lines for base64 encoding and decoding were appended to this section. Cache was deleted and with the operator in place the string was encoded.
</p>

<p>
<i>Tip: You'll notice I used encodestring and decodestring instead of the actual name of the function used. This allows me to be able to change the ini later should I choose another method of encoding without having to change template files.</i>
</p>

<a name="eztoc71319_2" id="eztoc71319_2"></a><h2>Using new operators in templates</h2>
<p>
To use the new operator in your templates just add
</p>

<p>

{text you want to modify|new_ezpublish_operator}<br/>to your templates
</p>

<p>
Example
</p>

<p>
{$node.name|upcasefirst}
</p>

<a name="eztoc71319_3" id="eztoc71319_3"></a><h2>Notes/Limitations</h2>
<p>
I discovered this by trying to add a random templates operator. Unfortunately I was not able to accomplish that task using this method. This was because it is only possible to use this feature with php functions that take a single parameter.
</p>

<p>
You must use the operator in the method described above
</p>

<p>
{upcasefirst($node.name)} - does not work.
</p>
</div>


<div class="content-view-children">
<div class="class-comment">
    <h1 id="comments">Comments</h1>    <div class="block float-break">
              <form method="post" action="/web/20071224011016/http://ez.no/content/action">
             <input class="button" type="submit" name="NewButton" value="New comment"/>
             <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/development/kernel/custom_template_operators#comments"/>
             <input type="hidden" name="NodeID" value="26452"/>
                             <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                          <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
         </form>
         </div>


        

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg49064" class="attribute-heading">
        <h2>Calling any PHP function (also user defined ones)</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Gunnstein Lye</p>
    <p class="date">Tuesday 20 April 2004 7:32:57 pm</p>
</div>


<div class="attribute-short">
            Hi Francisco,<br/>
<br/>
See the link I have added at the top of the page, which describes a clean way to call PHP code from a template.

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg31065" class="attribute-heading">
        <h2>Solution Found</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Francisco Felix</p>
    <p class="date">Friday 25 July 2003 11:47:43 pm</p>
</div>


<div class="attribute-short">
            I have checked Mark Overduin contribution <a href="https://web.archive.org/web/20071224011016/http://ez.no/developer/ez_publish_3/documentation/customization/tips_tricks/including_php_files_in_templates" title="http://ez.no/developer/ez_publish_3/documentation/customization/tips_tricks/including_php_files_in_templates">http://ez.no/developer/ez_publish...cks/including_php_files_in_templates</a> (Thanls a lot Mark) and I will use a variant of it to preserve contents and design separation.<br/>
<br/>
I will implement one function for every external funcionality I need and I will call it as a custom operator template, this will reduce the security risk associated with including custom code by the designers (a possibility with Marks approach).<br/>
<br/>


    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bglight">

    
    <div id="msg31044" class="attribute-heading">
        <h2>Expanding posibilities</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Francisco Felix</p>
    <p class="date">Friday 25 July 2003 10:26:26 pm</p>
</div>


<div class="attribute-short">
            Great Job. Would this mean that if somebody expands PHP recompiling it we could have any type of php funcionality, like a banner ad system already developed?.<br/>
<br/>
For example making and compiling PHP with a function that calls a poll from the poll system (apart from EZPublish) would allow us to use this function and pass the poll we want as a parameter:<br/>
<br/>
{newest|new_ezpublish_poll_operator}<br/>
<br/>
The function would receive the &quot;newest&quot; parameter or an integer for a specific poll, then the function would return the html that renders the poll.<br/>
<br/>
Of course recompiling PHP is a big disadvantage, but it seems possible.<br/>
<br/>
What i am looking for is how to insert php code in a template in order to call funcionality provided by third party programs. I inserted php code directly in a template and it come as is in the html code.<br/>
<br/>
Any help will be appreciated.

    </div>


</div>
</div>
    

<div class="content-view-line">
<div class="class-comment bgdark">

    
    <div id="msg30570" class="attribute-heading">
        <h2>Fantastic !</h2>
    </div>

<div class="attribute-byline float-break">
    <p class="author">Esben Maaløe</p>
    <p class="date">Monday 21 July 2003 11:20:15 pm</p>
</div>


<div class="attribute-short">
            What a find ! Great job m8 !

    </div>


</div>
</div>


 


</div>
</div>

<div class="block float-break">
            <form method="post" action="/web/20071224011016/http://ez.no/content/action">
            <input class="button" type="submit" name="NewButton" value="New comment"/>
            <input type="hidden" name="RedirectURIAfterPublish" value="ezpublish/documentation/development/kernel/custom_template_operators#comments"/>
            <input type="hidden" name="NodeID" value="26452"/>
                           <input type="hidden" name="ClassIdentifier" value="article_comment"/>
                        <input type="hidden" name="ContentLanguageCode" value="eng-GB"/>
        </form>
    </div>

</div>
</div>
</div>


<div class="template-design area-sidebar-normal">
<div class="template-module content-view-sidebar">
<div class="template-object class-documentation">

<div class="attribute-heading">
    <h2 class="bullet">Contents</h2>
</div>
<h3><a href="development.html">Development</a></h3>
<p>
        
        
            
                    <a href="development/extensions.html">Extensions</a><br/>
          
	
            
                    <a href="development/ez_publish_datamodel.html">eZ publish datamodel</a><br/>
          
	
            
                    <a href="development/ez_publish_tuning_and_stability.html">eZ publish tuning and stability</a><br/>
          
	
            
                    <a href="development/importing_attribute_data.html">Importing attribute data</a><br/>
          
	
            
                    <a href="development/kernel.html">Kernel</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="development/kernel/executing_php_shell_scripts.html">Executing PHP shell scripts</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="development/kernel/ez_soap_web_services_overview.html">eZ SOAP Web Services Overview</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="development/kernel/deploying_soap_servers_with_ez_publish_3x.html">Deploying SOAP Servers with eZ Publis...</a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="development/kernel/custom_template_operators.html"><b>Custom template operators</b></a><br/>
          
	
            &nbsp;&nbsp;&nbsp;
                    <a href="development/kernel/cache_block_optimization.html">Cache block optimization</a><br/>
          
	
            
                    <a href="development/libraries.html">Libraries</a><br/>
          
	
            
                    <a href="development/scripting.html">Scripting</a><br/>
          
	
            
                    <a href="development/standards.html">Standards</a><br/>
          
	
            
                    <a href="development/system_overview.html">System overview</a><br/>
          
	
            
                    <a href="development/test_suite.html">Test Suite</a><br/>
          
	
            
                    <a href="development/using_doxygen_to_create_api_documentation.html">Using Doxygen to create API documenta...</a><br/>
          
	
        </p>


<hr class="docsplit"/>
<h3>Created</h3>
<p>
19/05/2003<br/>
1:49:40 am<br/>
by Bruce Morrison
</p>
<h3>Last updated</h3>
<p>
20/04/2004<br/>
7:27:53 pm<br/>
by Gunnstein Lye
</p>
<h3>Authors</h3>
<p class="rendered">Bruce Morrison<br/>Bård Farstad<br/>Jason M<br/>Gunnstein Lye<br/></p>

<br/>
<hr class="docsplit"/>

<p>This page is part of the eZ Publish documentation. The documentation is available under the <a href="https://web.archive.org/web/20071224011016/http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License.</a> All contributions will be released under the terms of this license.</p>

</div>
</div>
</div>





<!-- Main area content: END -->

</div>
</div>

<!-- Main area: END -->

<hr class="hide"/>

<!-- Footer area: START -->
<div id="footer-design">
<div id="page-width6">
<div id="footer">

<address>Powered by eZ Publish&reg; Content Management System.<br/>
Copyright &copy;1999 - 2025 7x and 2007 Exponential (except where otherwise noted). All rights reserved.</address>

</div>
</div>
</div>
<!-- Footer area: END -->

</div>
<!-- Complete page area: END -->


    

</body>
</html>

<!-- th[eZ] 20050804 --><!--
     FILE ARCHIVED ON 01:10:16 Dec 24, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 11:20:32 Oct 31, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.71
  exclusion.robots: 0.028
  exclusion.robots.policy: 0.012
  esindex: 0.014
  cdx.remote: 6.633
  LoadShardBlock: 87.573 (3)
  PetaboxLoader3.datanode: 86.516 (4)
  load_resource: 175.877
  PetaboxLoader3.resolve: 138.398
-->